<h2 class="tit" style="box-sizing: border-box; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: 100; line-height: 1.1; color: rgb(69, 69, 69); margin: 0.8em 0px; font-size: 2.15em; padding: 0px; background-color: rgb(255, 255, 255);">快速了解</h2><p class="cnt" style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体; font-size: 13px;">$ su<br style="box-sizing: border-box;"># vi /etc/yum.conf</span></p><p class="cnt" style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><br style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体; font-size: 13px;">将keepcache的值由原来的0（表示安装后删除软件包）修改为1（表示安装后保留软件包）。如下内容：</span></p><p class="cnt" style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体; font-size: 13px;">[main]<br style="box-sizing: border-box;">cachedir=/var/cache/yum/$basearch/$releasever<br style="box-sizing: border-box;">keepcache=1<br style="box-sizing: border-box;">debuglevel=2<br style="box-sizing: border-box;">logfile=/var/log/yum.log<br style="box-sizing: border-box;">exactarch=1<br style="box-sizing: border-box;">obsoletes=1<br style="box-sizing: border-box;">gpgcheck=1<br style="box-sizing: border-box;">plugins=1<br style="box-sizing: border-box;">installonly_limit=3</span></p><p class="cnt" style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体; font-size: 13px;"># This is the default, if you make this bigger yum won't see if the metadata<br style="box-sizing: border-box;"># is newer on the remote and so you'll "gain" the bandwidth of not having to<br style="box-sizing: border-box;"># download the new metadata and "pay" for it by yum not having correct<br style="box-sizing: border-box;"># information.<br style="box-sizing: border-box;"># It is esp. important, to have correct metadata, for distributions like<br style="box-sizing: border-box;"># Fedora which don't keep old packages around. If you don't like this checking<br style="box-sizing: border-box;"># interupting your command line usage, it's much better to have something<br style="box-sizing: border-box;"># manually check the metadata once an hour (yum-updatesd will do this).<br style="box-sizing: border-box;"># metadata_expire=90m</span></p><p class="cnt" style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体; font-size: 13px;"># PUT YOUR REPOS HERE OR IN separate files named file.repo<br style="box-sizing: border-box;"># in /etc/yum.repos.d</span></p><p class="cnt" style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><br style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体; font-size: 13px;">由上面yum配置文件的内容可知，使用yum下载软件包的默认下载目录由cachedir指定，即是：<br style="box-sizing: border-box;">/var/cache/yum</span></p><h2 class="cnt" style="box-sizing: border-box; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: 100; line-height: 1.1; color: rgb(69, 69, 69); margin: 0.8em 0px; font-size: 2.15em; padding: 0px; background-color: rgb(255, 255, 255);"><a name="t1" style="box-sizing: border-box; background: transparent; color: rgb(79, 161, 219); margin: 0px; padding: 0px; outline: none;"></a>详解</h2><h4 class="cnt" style="box-sizing: border-box; font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: 100; line-height: 1.1; color: rgb(69, 69, 69); margin: 0.8em 0px; font-size: 1.25em; padding: 0px; background-color: rgb(255, 255, 255);">1.使用 yum 缓存</h4><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);">默​认​情​况​下​，当​前​版​本​的​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;在​成​功​下​载​和​安​装​软​件​包​后​，会​把​下​载​的​文​件​删​掉​。​这​样​可​以​减​少​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;占​用​的​磁​盘​空​间​。​你​可​以​打​开​缓​存​，这​样​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;将​在​缓​存​目​录​保​留​下​载​到​的​文​件​。​</div><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);">缓​存​带​来​很​多​好​处​：</div><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="itemizedlist" style="box-sizing: border-box; margin: 0px; padding: 0px;"><ul style="box-sizing: border-box; margin: 0px; padding: 0px; list-style-position: initial; list-style-image: initial;"><li class="listitem" style="box-sizing: border-box; margin: 0px 0px 0px 40px; padding: 0px; list-style: disc;"><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px;"><code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;的​性​能​可​以​提​高​</div></li><li class="listitem" style="box-sizing: border-box; margin: 0px 0px 0px 40px; padding: 0px; list-style: disc;"><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px;">你​可​以​离​线​运​行​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;操​作​，只​使​用​缓​存​</div></li><li class="listitem" style="box-sizing: border-box; margin: 0px 0px 0px 40px; padding: 0px; list-style: disc;"><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px;">你​可​以​复​制​缓​存​中​的​软​件​包​以​备​用​</div></li></ul></div><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p></div><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; background-color: rgb(255, 255, 255);">默​认​情​况​下​，<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;在​&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">/var/cache/yum/</code>&nbsp;目​录​保​存​临​时​文​件​，每​个​仓​库​都​有​自​己​的​子​目​录​。​仓​库​目​录​中​&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">packages/</code>&nbsp;子​目​录​包​含​了​缓​存​的​软​件​包​。​例​如​，目​录​&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">/var/cache/yum/development/packages/</code>&nbsp;包​含​从​&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">development</code>&nbsp;仓​库​下​载​的​软​件​包​。​<p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px;"><h4 style="box-sizing: border-box; font-weight: 100; line-height: 1.1; color: inherit; margin: 0.8em 0px; font-size: 1.25em; padding: 0px;">2. 启用 yum 缓存</h4><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;">要​配​置​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;保​留​已​下​载​的​文​件​而​不​是​删​除​，设​置​&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">/etc/yum.conf</code>&nbsp;中​的​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">keepcache</code>&nbsp;选​项​为​&nbsp;<strong class="userinput" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">1</code></strong>：</p></div><h5 class="\'screen\'" style="box-sizing: border-box; font-weight: 100; line-height: 1.1; color: inherit; margin: 0.8em 0px; font-size: 1em; padding: 0px;"><code class="computeroutput" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">keepcache=1<br style="box-sizing: border-box;"></code></h5><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px;">打​开​缓​存​后​，每​个​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;操​作​都​可​能​从​仓​库​下​载​软​件​包​数​据​。​要​保​证​缓​存​包​含​了​软​件​包​数​据​，在​启​用​缓​存​后​运​行​一​个​操​作​，例​如​&nbsp;<code class="option" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">list</code>&nbsp;或​&nbsp;<code class="option" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">search</code>&nbsp;来​下​载​软​件​包​数​据​而​不​影​响​系​统​。​<p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><h4 class="\'title\'" style="box-sizing: border-box; font-weight: 100; line-height: 1.1; color: inherit; margin: 0.8em 0px; font-size: 1.25em; padding: 0px;">3.在​只​使​用​缓​存​的​模​式​下​使​用​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 18px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code></h4><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;">要​在​没​有​网​络​的​情​况​下​执​行​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>，只​要​启​用​了​缓​存​，就​可​以​用​&nbsp;<code class="option" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">-C</code>&nbsp;选​项​。​这​样​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;就​不​会​检​查​网​络​上​的​仓​库​，只​使​用​缓​存​。​在​这​个​模​式​中​，<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;只​能​安​装​已​下​载​并​缓​存​的​软​件​包​。​</p><div class="para" style="box-sizing: border-box; margin: 0px; padding: 0px;">要​在​没​有​网​络​连​接​的​时​候​搜​索​软​件​包​&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">tsclient</code>，输​入​命​令​：</div><h5 style="box-sizing: border-box; font-weight: 100; line-height: 1.1; color: inherit; margin: 0.8em 0px; font-size: 1em; padding: 0px;"><strong class="userinput" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">su -c 'yum -C list&nbsp;<em class="replaceable" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.96px; padding: 2px 4px; border-radius: 4px;">tsclient</code></em>'</code></strong></h5><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><h4 style="box-sizing: border-box; font-weight: 100; line-height: 1.1; color: inherit; margin: 0.8em 0px; font-size: 1.25em; padding: 0px;">4. 缓存带来的好处</h4><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;">如果你有多台机子 只须要一台机子从网上下载 软件包跟软件更新包 , 还有如果你想重装系统不想再下载的几个G的更新跟软件(前提缓存了你系统所有安装的软件的更新包).</p><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;">在开启 缓存的状态下因为 yum 下载的软件包不会被删除,所以可以多次利用.(就是占硬盘空间而以, 呵呵几个G我不放在眼里,我硬盘有 1.2TB)</p><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;">很简单的方法,把这台机子的&nbsp;<code class="filename" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">/var/cache/yum/ 目录下的所有文件包过目录. 复制到另一台机子下的相同目录. 执行.<br style="box-sizing: border-box;"></code><strong style="box-sizing: border-box;"><strong class="userinput" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;"><br style="box-sizing: border-box;"># yum -C&nbsp;<em class="replaceable" style="box-sizing: border-box;">update</em></code></strong></strong></p><strong style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;"></code></strong><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"># yum -C install &lt;软件包名&gt;</p><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><p style="box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal;"></p><h4 style="box-sizing: border-box; font-weight: 100; line-height: 1.1; color: inherit; margin: 0.8em 0px; font-size: 1.25em; padding: 0px;"><strong style="box-sizing: border-box;"><strong class="userinput" style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 18px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">5.</code></strong></strong>清​空​&nbsp;<code class="command" style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 18px; padding: 2px 4px; color: rgb(199, 37, 78); white-space: nowrap; background-color: rgb(249, 242, 244); border-radius: 4px;">yum</code>&nbsp;缓​存​</h4></div></div>